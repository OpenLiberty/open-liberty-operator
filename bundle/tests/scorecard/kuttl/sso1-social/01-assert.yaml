apiVersion: apps/v1
kind: Deployment
metadata:
  name: sso-liberty
status:
  readyReplicas: 1
---
# Annoyingly kuttl insists that if you assert on an array, it
# must be the same length as the real version, so it is necessary
# to list all env vars below, even though there are only a few
# that are important to the test
# It also seems that order is important, so this could be fragile
apiVersion: v1
kind: Pod
spec:
  containers:
  - env:
    - name: SEC_TLS_TRUSTDEFAULTCERTS
    - name: SEC_IMPORTS_K8S_CERTS
    - name: WLP_LOGGING_CONSOLE_LOGLEVEL
    - name: WLP_LOGGING_CONSOLE_SOURCE
    - name: WLP_LOGGING_CONSOLE_FORMAT
    - name: SEC_SSO_GITHUB_CLIENTID
      valueFrom:
        secretKeyRef:
          key: github-clientId
          name: sso-liberty-olapp-sso
    - name: SEC_SSO_GITHUB_CLIENTSECRET
      valueFrom:
        secretKeyRef:
          key: github-clientSecret
          name: sso-liberty-olapp-sso
    - name: SEC_SSO_OIDC_CLIENTID
      valueFrom:
        secretKeyRef:
          key: oidc-clientId
          name: sso-liberty-olapp-sso
    - name: SEC_SSO_OIDC_CLIENTSECRET
      valueFrom:
        secretKeyRef:
          key: oidc-clientSecret
          name: sso-liberty-olapp-sso
    - name: SEC_SSO_GITHUB_HOSTNAME
    - name: SSO_SECRET_REV
