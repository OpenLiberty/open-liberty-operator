apiVersion: apps/v1
kind: Deployment
metadata:
  name: env-liberty
spec:
  template:
    spec:
      containers:
        - env:
            - name: TEST_VALUE
              value: test-value
            - name: TEST_NAME
              valueFrom:
                fieldRef:
                  apiVersion: v1
                  fieldPath: metadata.name
            - name: TEST_CPU_REQUEST
              valueFrom:
                resourceFieldRef:
                  containerName: app
                  resource: requests.cpu
            - name: TLS_DIR
            - name: SA_RESOURCE_VERSION
            - name: WLP_LOGGING_CONSOLE_LOGLEVEL
            - name: WLP_LOGGING_CONSOLE_SOURCE
            - name: WLP_LOGGING_CONSOLE_FORMAT
            - name: SEC_IMPORT_K8S_CERTS
            - name: SERVICE_CERT_SECRET_RESOURCE_VERSION
          envFrom:
            - configMapRef:
                name: env-liberty-configmap
            - secretRef:
                name: env-liberty-secret
status:
  replicas: 1
  readyReplicas: 1
  updatedReplicas: 1
