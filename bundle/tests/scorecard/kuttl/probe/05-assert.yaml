apiVersion: kuttl.dev/v1beta1
kind: TestAssert
timeout: 120
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: probes-liberty
spec:
  selector:
    matchLabels:
      app.kubernetes.io/instance: probes-liberty
  template:
    spec:
      containers:
        - startupProbe:
            httpGet:
              path: /health/started
              port: 9443
              scheme: HTTPS
            periodSeconds: 10
            timeoutSeconds: 2
            successThreshold: 1
            failureThreshold: 20
status:
# not checking readyReplicas or replicas while replacing icr.io/appcafe/open-liberty/samples/getting-started 
# applicationImage: icr.io/appcafe/open-liberty:full-java8-openj9-ubi uses different default ports
#  readyReplicas: 1
#  replicas: 1
  updatedReplicas: 1
